{% load i18n %}

<!-- Hero Banner con Saludo Inteligente -->
<div class="hero-greeting-banner">
    <div class="container-fluid">
        <div class="hero-content">
            <!-- Layout flex: texto izquierda + badge derecha -->
            <div class="hero-flex-container">
                <!-- Zona izquierda: texto -->
                <div class="greeting-section">
                    <h1 class="greeting-title">{{ user_greeting }}</h1>
                    <p class="greeting-subtitle">
                        {% if subtitle %}
                            {{ subtitle }}
                        {% else %}
                            {% trans "Aquí tienes un resumen del estado actual de tu cuenta en Fénix" %}
                        {% endif %}
                    </p>
                </div>
                
                <!-- Zona derecha: badge/estado -->
                {% if dashboard_status %}
                <div class="hero-badge-container">
                    <div class="status-indicator status-{{ dashboard_status.level }}">
                        <span class="status-icon">
                            {% if dashboard_status.icon == 'check-circle' %}
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
                            {% elif dashboard_status.icon == 'alert-circle' %}
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
                            {% elif dashboard_status.icon == 'alert-octagon' %}
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
                            {% else %}
                            {{ dashboard_status.icon }}
                            {% endif %}
                        </span>
                        <span class="status-message">{{ dashboard_status.message }}</span>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<style>
/* ===== HERO COMPACTO ===== */
.hero-greeting-banner {
    background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
    color: white;
    padding: 1rem 0;
    margin-bottom: 1.5rem;
    border-radius: 0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.hero-content {
    padding: 0 1.5rem;
}

/* Layout flex: texto izquierda + badge derecha */
.hero-flex-container {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

@media (min-width: 768px) {
    .hero-flex-container {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        gap: 1.5rem;
    }
}

/* Zona izquierda: texto */
.greeting-section {
    text-align: left;
    flex: 1;
    min-width: 0;
}

.greeting-title {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
    color: white;
    text-shadow: none;
    line-height: 1.2;
}

.greeting-subtitle {
    font-size: 0.9rem;
    font-weight: 400;
    margin-bottom: 0;
    opacity: 0.9;
    line-height: 1.4;
}

.greeting-subtitle strong {
    font-weight: 600;
}

/* Zona derecha: badge */
.hero-badge-container {
    flex-shrink: 0;
}

/* Badge estilo pill */
.status-indicator {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    border-radius: 2rem;
    font-size: 0.8125rem;
    font-weight: 500;
    white-space: nowrap;
    background-color: rgba(255, 255, 255, 0.95);
    color: #1e40af;
    border: none;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.status-indicator.status-success {
    background-color: rgba(255, 255, 255, 0.95);
    color: #059669;
}

.status-indicator.status-warning {
    background-color: rgba(255, 255, 255, 0.95);
    color: #d97706;
}

.status-indicator.status-danger {
    background-color: rgba(255, 255, 255, 0.95);
    color: #dc2626;
}

.status-icon {
    display: flex;
    align-items: center;
    line-height: 1;
}

.status-icon svg {
    display: block;
}

.status-message {
    line-height: 1;
}

/* Responsive móvil */
@media (max-width: 767px) {
    .hero-greeting-banner {
        padding: 0.875rem 0;
    }
    
    .greeting-title {
        font-size: 1.25rem;
    }
    
    .greeting-subtitle {
        font-size: 0.8125rem;
    }
    
    .status-indicator {
        font-size: 0.75rem;
        padding: 0.375rem 0.75rem;
    }
}

/* Dark mode compatible */
@media (prefers-color-scheme: dark) {
    .hero-greeting-banner {
        background: linear-gradient(135deg, #4c5fd7 0%, #5a3d7a 100%);
    }
}
</style>
