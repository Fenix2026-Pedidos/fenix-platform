{% extends 'base.html' %}
{% load i18n %}

{% block page_title %}{% trans "Revisar Usuario" %}{% endblock %}
{% block title %}{% trans "Revisar Usuario" %} - Fenix{% endblock %}

{% block content %}
<nav style="margin-bottom: 24px;">
    <ol style="display: flex; list-style: none; padding: 0; gap: 8px; align-items: center;">
        <li><a href="{% url 'accounts:user_approval_list' %}" style="color: var(--primary-600); text-decoration: none;">{% trans "Aprobación de Usuarios" %}</a></li>
        <li><i class="bi bi-chevron-right" style="color: var(--gray-400);"></i></li>
        <li style="color: var(--gray-600);">{{ user_to_approve.email }}</li>
    </ol>
</nav>

<div class="card">
    <div class="card-header">
        <h5 class="card-title">{% trans "Información del Usuario" %}</h5>
    </div>
    <div class="card-body">
        <dl style="display: grid; gap: 16px;">
            <div>
                <dt style="font-size: 12px; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">{% trans "Email" %}</dt>
                <dd style="font-weight: 500; font-size: 16px; margin: 0;">{{ user_to_approve.email }}</dd>
            </div>
            
            <div>
                <dt style="font-size: 12px; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">{% trans "Nombre Completo" %}</dt>
                <dd style="font-weight: 500; font-size: 16px; margin: 0;">{{ user_to_approve.full_name }}</dd>
            </div>
            
            <div>
                <dt style="font-size: 12px; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">{% trans "Idioma" %}</dt>
                <dd style="font-weight: 500; font-size: 16px; margin: 0;">{{ user_to_approve.get_language_display }}</dd>
            </div>
            
            <div>
                <dt style="font-size: 12px; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">{% trans "Fecha de Registro" %}</dt>
                <dd style="font-weight: 500; font-size: 16px; margin: 0;">{{ user_to_approve.date_joined|date:"d/m/Y H:i" }}</dd>
            </div>
            
            <div>
                <dt style="font-size: 12px; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">{% trans "Estado" %}</dt>
                <dd style="margin: 0;">
                    <span class="badge badge-warning">{% trans "Pendiente de Aprobación" %}</span>
                </dd>
            </div>
        </dl>
    </div>
    
    <div class="card-footer" style="display: flex; justify-content: flex-end; gap: 12px;">
        <form method="post" style="display: inline;">
            {% csrf_token %}
            <input type="hidden" name="action" value="reject">
            <button type="submit" class="btn btn-danger" onclick="return confirm('{% trans "¿Estás seguro de rechazar esta solicitud?" %}');">
                <i class="bi bi-x-circle"></i> {% trans "Rechazar" %}
            </button>
        </form>
        <form method="post" style="display: inline;">
            {% csrf_token %}
            <input type="hidden" name="action" value="approve">
            <button type="submit" class="btn btn-success">
                <i class="bi bi-check-circle"></i> {% trans "Aprobar Usuario" %}
            </button>
        </form>
    </div>
</div>
{% endblock %}
